var pe=Object.defineProperty;var me=(s,t,i)=>t in s?pe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var A=(s,t,i)=>(me(s,typeof t!="symbol"?t+"":t,i),i);import{r as ge,a as W,d as D,o as u,c as h,b as I,w as Y,T as G,F as b,e as q,n as E,f as o,t as v,u as n,s as ve,g as w,h as T,p as re,i as ie,j as J,k as fe,P as _e,l as H,v as V,m as xe}from"./modules-Bu1g1E3p.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function i(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(e){if(e.ep)return;e.ep=!0;const l=i(e);fetch(e.href,l)}})();const ye={customFont:"Microsoft YaHei UI Light",styles:{box:{width:"300px",height:"350px",backgroundColor:"rgba(0, 15, 196, 0.4)"},li:{padding:"0px 0px 0px 0px"},index:{minWidth:"18px",color:"gold",fontSize:"15px",fontWeight:"bold"},indexShadow:{textShadow:"0 0 3px red,0 0 3px red"},song:{color:"white",fontSize:"17px",fontWeight:"bold",margin:"0px 0px 0px 0px"},songShadow:{textShadow:"0 0 3px red,0 0 3px red"},user:{color:"gold",fontSize:"15px",fontWeight:"bold",margin:"0px 0px 0px 0px"},userShadow:{textShadow:"0 0 3px red,0 0 3px red"}},is:{customFont:!1,copyAtrist:!1,needBadge:!1,guardNeedBadge:!1,showBadgLevel:!1,showSingList:!0,showSingEdList:!1},isTextStyle:{index:{shadow:!1,stroke:!1},song:{shadow:!1,stroke:!1},user:{shadow:!1,stroke:!1}},value:{reqInterval:10,maxReqCount:9999,maxListLength:50}},$={index:{shadowBlur:"3",shadowColor:"red",strokeSize:"2",strokeColor:"red"},song:{shadowBlur:"3",shadowColor:"red",strokeSize:"2",strokeColor:"red"},user:{shadowBlur:"3",shadowColor:"red",strokeSize:"2",strokeColor:"red"}},m=ge(Object.assign({},ye)),C={is(s,t){m.is[s]=t},isTextStyle(s,t,i){m.isTextStyle[s][t]=i},style(s,t,i){m.styles[s][t]=i},textExtraStyle(s,t){const i=$[s];if(t==="shadow"){const r=new Array(2).fill(`0 0 ${i.shadowBlur}px ${i.shadowColor}`).join(",");m.styles[`${s}Shadow`].textShadow=r}else{const r=`${i.strokeSize}px ${i.strokeColor}`;document.documentElement.style.setProperty(`--stroke-${s}`,r)}},value(s,t){m.value[s]=+t},customFont(s){m.customFont=s}};(()=>{const s=localStorage.getItem("singListConfig");if(s){const t=JSON.parse(s);Object.assign($,t.configExtraStyle),Object.assign(m,t.config),Object.keys($).forEach(i=>{C.textExtraStyle(i,"stroke")})}})();const we=()=>{localStorage.setItem("singListConfig",JSON.stringify({config:m,configExtraStyle:$}))},ke=()=>{const s=W([]),t=r=>{s.value[0]?s.value[0]=r:s.value.push(r),i(r.duration||2e3)},i=(()=>{let r=0;return e=>{r&&clearTimeout(r),r=setTimeout(()=>{s.value.pop()},e)}})();return{messageList:s,add:t}},M=ke(),Se={id:"main"},Ce=D({__name:"message",setup(s){const{messageList:t}=M;return(i,r)=>(u(),h("main",Se,[I(G,{name:"message",tag:"ul"},{default:Y(()=>[(u(!0),h(b,null,q(n(t),e=>(u(),h("li",{key:e.value,class:E(["main-message",`message-${e.type}`])},[o("div",null,v(e.value),1)],2))),128))]),_:1})]))}}),N=(s,t)=>{const i=s.__vccOpts||s;for(const[r,e]of t)i[r]=e;return i},$e=N(Ce,[["__scopeId","data-v-8f8e5abc"]]),be=s=>musicListData.list[s],Le=()=>{const s=musicListData.list.reduce((e,l)=>{var p;return(e[p=l.category]??(e[p]=[])).push(l),e},{}),t=musicListData.list,i=(e,l)=>{e&&e.splice(e.findIndex(p=>p.atrist===l.atrist&&p.name===l.name),1)};return e=>{const l=e.name.slice(4);if(s[l]&&!s[l].length)return"该类别已无歌曲可随机";if(!t.length)return"已无歌曲可随机";const p=Math.floor(Math.random()*(s[l]||t).length),c=(s[l]||t)[p];return i(s[l],c),i(t,c),c}},j=()=>Math.floor(new Date().getTime()/1e3),Te=Le(),U=W([]),k=W([]),ee=(s,t)=>s.find(i=>i.name===t.name&&i.atrist===t.atrist),O=(()=>{const s=()=>{k.value.push({name:"随机一首流行",atrist:"",reqUser:{uid:1,name:"rhythm"},isRandom:!0,reqTime:new Date().toLocaleTimeString(),reqTimestamp:new Date().getTime()}),setTimeout(()=>{k.value.push({name:"随机一首粤语",atrist:"",reqUser:{uid:1,name:"_随机"},isRandom:!0,reqTime:new Date().toLocaleTimeString(),reqTimestamp:new Date().getTime()})},200)},t=c=>{const d=k.value.findIndex(a=>a.reqTimestamp===c);U.value.push(k.value[d]),k.value.splice(d,1)},i=c=>{const d=U.value.findIndex(a=>a.reqTimestamp===c);U.value.splice(d,1)},r=c=>{const d=Te(c);if(typeof d=="string"){M.add({type:"error",value:d,duration:2500}),c.isRandom=!1;return}c.name=d.name,c.atrist=d.atrist,c.isRandom=!1},e=(c,d)=>{if(c.currentPlay){c.currentPlay=!1;return}k.value.forEach((a,f)=>{a.currentPlay=d===f})},l=c=>{const{reqUser:{name:d}}=c;if(ee(k.value,c)){M.add({type:"info",value:`${d}
该曲已在列表当中`});return}const f=ee(U.value,c);if(f){M.add({type:"info",value:`${d}
该曲已在 ${f.reqTime} 被点过`});return}c.name.includes("随机一首")&&(c.isRandom=!0),k.value.push(c),M.add({type:"success",value:`${d}
点歌成功
${c.name}${c.atrist?" - "+c.atrist:""}`})};return{ordinaryAddSing:c=>{const{reqUser:{name:d,uid:a,badgeSource:f,guard_level:S}}=c;if(a!==userInfo.roomId&&!userInfo.verifyExcludeId.includes(a)&&(m.is.needBadge&&!S&&!(f!=null&&f.is_same_room)||m.is.guardNeedBadge&&S&&!(f!=null&&f.is_same_room))){M.add({type:"error",value:`${d}
需要携带粉丝牌点歌`,duration:2500});return}if(k.value.length>=Math.max(10,m.value.maxListLength)){M.add({type:"info",value:`${d}
列表已达上限(max ${Math.max(10,m.value.maxListLength)})`});return}l(c)},addSing:l,addFakeSing:s,remove:t,removeSinged:i,randomSing:r,currentPlay:e}})();(()=>{const s=localStorage.getItem("singList");if(s){const t=JSON.parse(s);j()-t.timestamp<600&&(k.value=t.singList||[],U.value=t.singedList||[])}document.addEventListener("visibilitychange",()=>{le()})})();const le=()=>{const s=j();localStorage.setItem("singList",JSON.stringify({singList:k.value,singedList:U.value,timestamp:s}))},ae=s=>{const{content:t,user:i}=s,{badge:r,identity:e}=i;let[l,p]=t.split("点歌")[1].trim().split(" - ");if(!l)return;if(t.includes("index_")){const d=be(+t.split("_")[1]);if(!d)return;l=d.name,p=d.atrist}return{name:l,atrist:p,reqUser:{uid:i.uid,name:i.uname,guard_level:e==null?void 0:e.guard_level,badgeSource:r?{name:r.name,level:r.level,color:r.color,uname:r.anchor.uname,is_same_room:r.anchor.is_same_room}:void 0},reqTime:new Date().toLocaleTimeString(),reqTimestamp:new Date().getTime()}};let B={};(()=>{const s=localStorage.getItem("reqUserList");if(s){const t=JSON.parse(s);j()-t.timestamp<600&&(B=t.reqUserList)}})();const qe=()=>{const s=j();localStorage.setItem("reqUserList",JSON.stringify({reqUserList:B,timestamp:s}))},Me=s=>{const t=m.value.reqInterval,i=new Date().getTime(),r=s.user.uname;if((B[r]??(B[r]={timestamp:0,reqCount:0})).reqCount++>Math.max(1,m.value.maxReqCount)){M.add({type:"error",value:`${r}
已达到点歌上限(${Math.max(1,m.value.maxReqCount)})`});return}if(i-B[r].timestamp>t*1e3){B[r].timestamp=i;const e=ae(s);e&&O.ordinaryAddSing(e)}else M.add({type:"info",value:`${r}
${t}秒内只能点一次`})},Ee={onIncomeDanmu:s=>{console.log(s),s.body.content.startsWith("点歌")&&Me(s.body)},onIncomeSuperChat:s=>{if(s.body.content.startsWith("点歌")){const t=ae(s.body);t&&O.addSing(t)}}};ve(userInfo.roomId,Ee,{ws:{uid:318013512,roomid:32218276,protover:3,buvid:"691C139C-B42B-1061-9CB4-1CEB28EDAC2773498infoc",platform:"web",type:2,key:"KyimuEWa0MlNY7Qq0nkPR6ntTEy9R2dL4-y7QiTjX6Z2xAiuW4bMdkWlMHcHOJZ7RcGE3ue9dtd9Wmf-5YG-vWe1_C0GO_kdEVbIBEfB0F6jDy4EL0iffzY4_7H1kmtpkd2wFvVh-hYWqAuVv_6o-RrUwdBRfSruQRU67vLlBX9JxiDEAv-BUtE="}});class Ie{constructor(){A(this,"callbackList",new Set);A(this,"isOpen",!1);A(this,"handleId",-1);A(this,"animationFn",(()=>{let t=0;const i=1e3/40,{callbackList:r}=this,e=l=>{const p=l-t;p>i&&(r.forEach(c=>c()),t=l-p%i),this.handleId=requestAnimationFrame(e)};return e})())}start(){if(!this.isOpen)return this.isOpen=!0,this.animationFn(25),this}stop(){return this.isOpen&&(cancelAnimationFrame(this.handleId),this.isOpen=!1),this}add(t){const{callbackList:i}=this,r=()=>{i.delete(e)},e=()=>{t(r)};return i.add(e),r}destroy(){return this.stop(),this.callbackList.clear(),this}}const te=new Ie,ze=s=>{let t=()=>s.scrollWidth-s.clientWidth,i=1,r=!1,e=0;te.add(l=>{if(e=t(),!(r||!e)&&(s.scrollLeft+=i,s.scrollLeft>=e||s.scrollLeft<=0)){if(!document.contains(s)){l();return}i=i===-1?1:-1,r=!0,setTimeout(()=>{r=!1},2e3);return}}),te.start()},se=(s,t)=>{let i=`${s}${t?` ${t}`:""}`.trim();navigator.clipboard.writeText(i).catch(()=>{const r=document.createElement("textarea");r.value=i,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)})},Be=s=>t=>{const{x:i,y:r}=t,e=+s.width.slice(0,-2),l=+s.height.slice(0,-2),p=c=>{const d=c.x-i,a=c.y-r;s.width=`${e+d}px`,s.height=`${l+a}px`};document.onpointermove=p,document.onpointerup=()=>{document.onpointermove=null,document.onpointerup=null}},ne=s=>{if(["svg","path"].includes(s.target.tagName))return;const t=s.currentTarget,i=t.parentNode,r=Array.from(i.children),e=r.findIndex(_=>_===t),l=s.y,p=t.clientHeight,c=t.clientHeight/2,d=i.scrollHeight-i.clientHeight;let a=0,f=l,S=0,x=0,Z=-1;r.forEach(_=>_.style.pointerEvents="none"),r.splice(e,1),t.style.transition="0s";const K=()=>{const _=x+S;t.style.transform=`translateY(${_}px)`;const z=Math.abs(_);a=Math.floor((z+c)/p);const[R,F,ue]=_>0?["-",e,e+a]:["",e-a,e];r.forEach((he,X)=>{he.style.transform=`${X>=F&&X<ue?`translateY(${R}${p}px)`:""}`})},Q=()=>{t.style.transform="",t.style.pointerEvents="auto",r.forEach(_=>{_.style.transition="0s",_.style.transform="",_.style.pointerEvents="auto"}),t.offsetHeight,r.forEach(_=>{_.style.transition=""})};if(d){const _=i.getBoundingClientRect(),[z,R]=[_.top+c,_.bottom-c];i.onscroll=()=>{K()};const F=()=>{Z=setTimeout(()=>{f<z&&i.scrollTop>0?(i.scrollTop-=2,x-=2):f>R&&i.scrollTop<d&&(i.scrollTop+=2,x+=2),F()},10)};F()}const ce=_=>{f=_.y,S=f-l,K()},de=()=>{if(clearTimeout(Z),i.onscroll=null,t.style.transition="",!a){Q();return}const _=x+S>0,z=_?Math.min(e+a,r.length):Math.max(e-a,0),R=r[z],F=_?z-e:e-z;t.style.transform=`translateY(${_?"":"-"}${F*p}px)`,t.style.pointerEvents="auto",setTimeout(()=>{Q(),i.insertBefore(t,R)},300)};document.onpointermove=ce,document.onpointerup=()=>{de(),document.onpointermove=null,document.onpointerup=null}},L=s=>(re("data-v-90e74e5a"),s=s(),ie(),s),Ue=["data-text"],Oe=["data-text"],Fe=L(()=>o("span",null," - ",-1)),Re=["data-text"],Ae={class:"icon"},De=["onClick"],Ne=L(()=>o("path",{d:"M831.632761 244.00634 765.925247 178.299849 503.095189 441.128883 240.265132 178.299849 174.558641 244.00634 437.387675 506.836397 174.558641 769.666454 240.265132 835.373968 503.095189 572.543911 765.925247 835.373968 831.632761 769.666454 568.802704 506.836397Z","p-id":"1490","data-spm-anchor-id":"a313x.search_index.0.i0.10e63a81Ccff3n",class:"selected"},null,-1)),Pe=[Ne],We=["onClick"],je=L(()=>o("path",{d:"M679.827 780.524h-402.786v-469.916h402.786v469.916zM646.261 344.173h-335.655v402.786h335.655v-402.786zM411.304 243.476h-33.564v67.131h33.564v-67.131zM579.131 444.869h-201.394v33.564h201.394v-33.564zM579.131 545.564h-201.394v33.564h201.394v-33.564zM579.131 646.261h-201.394v33.564h201.394v-33.564zM746.959 243.476h-335.655v33.564h335.655v-33.564zM746.959 277.041h-33.564v402.786h33.564v-402.786zM713.394 646.261h-33.564v33.564h33.564v-33.564z","p-id":"8201"},null,-1)),He=[je],Ve=["onClick"],Ye=L(()=>o("path",{d:"M956.915826 484.47273l-105.340577 106.496578c-8.706131 8.344881-22.758767 8.344881-31.392648 0l-104.690327-106.496578c-12.354759-14.594511-4.082128-19.760389 4.551753-28.213646h95.911946c-26.515769-143.59698-152.194736-252.47781-303.522473-252.47781-117.081211 0-218.84541 65.025048-271.262823 160.936993l-52.309039-20.91639c60.94292-116.539335 182.828759-196.158894 323.571862-196.158894 182.467509 0 333.144994 133.879348 360.202639 308.616101h79.800184c8.597756 8.453256 13.113385 19.83264 4.479503 28.213646z m-751.1838-22.614267l105.340577 106.388203c8.706131 8.453256 4.190503 19.83264-4.551753 28.285896H215.341283c36.666902 129.43597 155.698864 224.372539 297.056092 224.372539 107.544204 0 202.191773-54.98229 257.463064-138.358851l52.850914 21.097015c-64.302547 103.895576-179.071756 173.400127-310.313978 173.400127-172.605376 0-316.527482-119.826713-354.531009-280.51083H74.164679c-8.633881-8.453256-16.906512-13.691385-4.443378-28.285896l104.618077-106.388203c8.633881-8.453256 22.686517-8.453256 31.392648 0z","p-id":"10346"},null,-1)),Ge=[Ye],Je=["onClick"],Ze=L(()=>o("path",{d:"M 11 3 L 11 14.560547 C 10.40837 14.213643 9.7306745 14 9 14 C 6.8027056 14 5 15.802706 5 18 C 5 20.197294 6.8027056 22 9 22 C 11.197294 22 13 20.197294 13 18 L 13 9 L 19 9 L 19 3 L 11 3 z M 13 5 L 17 5 L 17 7 L 13 7 L 13 5 z M 9 16 C 10.116414 16 11 16.883586 11 18 C 11 19.116414 10.116414 20 9 20 C 7.8835859 20 7 19.116414 7 18 C 7 16.883586 7.8835859 16 9 16 z"},null,-1)),Ke=[Ze],Qe={key:0,class:"tip"},Xe=L(()=>o("p",null,"点歌格式:",-1)),et=L(()=>o("p",null,[J("点歌"),o("span"),o("span",null,"[歌名]"),o("span",null," - "),o("span",null,"[歌手]")],-1)),tt=L(()=>o("p",null,"or",-1)),st=L(()=>o("p",null,[J("点歌"),o("span"),J("随机一首"),o("span",null,"[类别]")],-1)),nt=[Xe,et,tt,st],ot=["data-text"],rt=["data-text"],it=L(()=>o("span",null," - ",-1)),lt=["data-text"],at={class:"icon"},ct=["onClick"],dt=L(()=>o("path",{d:"M831.632761 244.00634 765.925247 178.299849 503.095189 441.128883 240.265132 178.299849 174.558641 244.00634 437.387675 506.836397 174.558641 769.666454 240.265132 835.373968 503.095189 572.543911 765.925247 835.373968 831.632761 769.666454 568.802704 506.836397Z","p-id":"1490","data-spm-anchor-id":"a313x.search_index.0.i0.10e63a81Ccff3n",class:"selected"},null,-1)),ut=[dt],ht=["onClick"],pt=L(()=>o("path",{d:"M679.827 780.524h-402.786v-469.916h402.786v469.916zM646.261 344.173h-335.655v402.786h335.655v-402.786zM411.304 243.476h-33.564v67.131h33.564v-67.131zM579.131 444.869h-201.394v33.564h201.394v-33.564zM579.131 545.564h-201.394v33.564h201.394v-33.564zM579.131 646.261h-201.394v33.564h201.394v-33.564zM746.959 243.476h-335.655v33.564h335.655v-33.564zM746.959 277.041h-33.564v402.786h33.564v-402.786zM713.394 646.261h-33.564v33.564h33.564v-33.564z","p-id":"8201"},null,-1)),mt=[pt],gt=D({__name:"singList",setup(s){const{styles:t,is:i,isTextStyle:r}=m,e=c=>{const a=r[c].shadow?t[`${c}Shadow`]:{};return Object.assign({},t[c],a)},l=Be(m.styles.box),p=c=>{setTimeout(()=>{for(const d of Object.values(c.children[1].children)){if(d.isTimer)return;d.isTimer=!0,ze(d)}},100)};return(c,d)=>(u(),h("section",{class:"sing-list",style:w({fontFamily:n(i).customFont?n(m).customFont:void 0})},[n(m).is.showSingList?(u(),h("div",{key:0,class:"list-box",style:w(n(t).box)},[I(G,{name:"sing",tag:"ol"},{default:Y(()=>[(u(!0),h(b,null,q(n(k),(a,f)=>{var S;return u(),h("li",{ref_for:!0,ref:x=>x&&p(x),key:a.reqUser.name+a.reqTime,style:w(n(t).li),onPointerdown:d[0]||(d[0]=x=>n(ne)(x))},[o("p",{class:E({"index-stroke":n(r).index.stroke}),style:w(e("index")),"data-text":`${f+1}.`},v(f+1)+". ",15,Ue),o("p",null,[o("div",{class:E({"song-stroke":n(r).song.stroke}),style:w(e("song")),"data-text":a.name+`${a.atrist?" - "+a.atrist:""}`},[o("span",null,v(a.name),1),a.atrist?(u(),h(b,{key:0},[Fe,o("span",null,v(a.atrist),1)],64)):T("",!0)],14,Oe),o("div",null,[a.currentPlay?(u(),h("span",{key:0,class:"sing-mark",style:w({background:"rgb(0 102 255)"})},"cur",4)):T("",!0),a.reqUser.superChat?(u(),h("span",{key:1,class:"sing-mark",style:w({background:a.reqUser.superChat.content_color})}," SC "+v(a.reqUser.superChat.price),5)):T("",!0),n(i).showBadgLevel&&((S=a.reqUser.badgeSource)!=null&&S.level)?(u(),h("span",{key:2,class:"sing-mark",style:w({background:a.reqUser.badgeSource.color})},v(a.reqUser.badgeSource.level),5)):T("",!0),o("span",{class:E({"user-stroke":n(r).user.stroke}),"data-text":a.reqUser.name,style:w(e("user"))},v(a.reqUser.name),15,Re)])]),o("article",Ae,[(u(),h("svg",{onClick:x=>n(O).remove(a.reqTimestamp),t:"1709147244672",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1489",width:"32",height:"32"},Pe,8,De)),(u(),h("svg",{onClick:x=>n(se)(a.name,n(m).is.copyAtrist?a.atrist:""),t:"1709124944739",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8200",width:"32",height:"32"},He,8,We)),a.isRandom?(u(),h("svg",{key:0,onClick:x=>n(O).randomSing(a),t:"1709175592007",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10345",width:"32",height:"32"},Ge,8,Ve)):T("",!0),(u(),h("svg",{onClick:x=>n(O).currentPlay(a,f),xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"32",height:"32",viewBox:"0 0 24 24"},Ke,8,Je))])],36)}),128))]),_:1}),I(n($e)),n(k)[0]?T("",!0):(u(),h("div",Qe,nt)),o("div",{class:"resize",onPointerdown:d[1]||(d[1]=(...a)=>n(l)&&n(l)(...a))},null,32)],4)):T("",!0),n(m).is.showSingEdList?(u(),h("div",{key:1,class:"list-box",style:w(n(t).box)},[I(G,{name:"sing",tag:"ol"},{default:Y(()=>[(u(!0),h(b,null,q(n(U),(a,f)=>{var S;return u(),h("li",{ref_for:!0,ref:x=>x&&p(x),key:a.reqUser.name+a.reqTime,style:w(n(t).li),onPointerdown:d[2]||(d[2]=x=>n(ne)(x))},[o("p",{class:E({"index-stroke":n(r).index.stroke}),style:w(e("index")),"data-text":`${f+1}.`},v(f+1)+". ",15,ot),o("p",null,[o("div",{class:E({"song-stroke":n(r).song.stroke}),style:w(e("song")),"data-text":a.name+`${a.atrist?" - "+a.atrist:""}`},[o("span",null,v(a.name),1),a.atrist?(u(),h(b,{key:0},[it,o("span",null,v(a.atrist),1)],64)):T("",!0)],14,rt),o("div",null,[a.reqUser.superChat?(u(),h("span",{key:0,class:"sing-mark",style:w({background:a.reqUser.superChat.content_color})}," SC "+v(a.reqUser.superChat.price),5)):T("",!0),(S=a.reqUser.badgeSource)!=null&&S.level?(u(),h("span",{key:1,class:"sing-mark",style:w({background:a.reqUser.badgeSource.color})},v(a.reqUser.badgeSource.level),5)):T("",!0),o("span",{class:E({"user-stroke":n(r).user.stroke}),"data-text":a.reqUser.name,style:w(e("user"))},v(a.reqUser.name),15,lt)])]),o("article",at,[(u(),h("svg",{onClick:x=>n(O).removeSinged(a.reqTimestamp),t:"1709147244672",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1489",width:"32",height:"32"},ut,8,ct)),(u(),h("svg",{onClick:x=>n(se)(a.name,n(m).is.copyAtrist?a.atrist:""),t:"1709124944739",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8200",width:"32",height:"32"},mt,8,ht))])],36)}),128))]),_:1})],4)):T("",!0)],4))}}),vt=N(gt,[["__scopeId","data-v-90e74e5a"]]),P=(s,t,i)=>{if(s.isPickr)return;s.isPickr=!0,_e.create({el:s,theme:"monolith",default:t||"#fff",useAsButton:!0,position:"left-middle",swatches:["rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{save:!0,clear:!0,input:!0}}}).on("change",e=>{const l=e.toRGBA().reduce((p,c,d)=>(p+=d<3?`${Math.round(c)},`:`${c}`,p),"");i(`rgba(${l})`)})},ft=["index","song","user"],g=W("index"),_t=fe(()=>{const s=m.styles[g.value];return Object.entries(s).filter(t=>!t[0].toLowerCase().includes("color")).map(([t,i])=>({name:`${g.value} ${yt[t]}`,value:i,fn:r=>{C.style(g.value,t,r)}}))}),xt=["单个用户请求间隔(秒)","单个用户最大请求数","列表最大长度"],yt={minWidth:"最小宽度",color:"字体颜色",fontSize:"字体大小",fontWeight:"字体粗细(normal|bold)",margin:"外边距(上 左 下 右)"},wt=[{title:"用户列表",fun:qe},{title:"设置",fun:we},{title:"点歌列表",fun:le}],kt=["id","checked"],St=["for"],Ct=D({__name:"switch-button",props:{id:{},checked:{type:Boolean}},setup(s){const t=s;return(i,r)=>(u(),h("div",null,[o("input",{type:"checkbox",id:t.id,checked:t.checked,onChange:r[0]||(r[0]=e=>i.$emit("switch",e.target.checked))},null,40,kt),o("label",{for:t.id},null,8,St)]))}}),oe=N(Ct,[["__scopeId","data-v-c2069f34"]]),y=s=>(re("data-v-79b1cc7c"),s=s(),ie(),s),$t=y(()=>o("input",{type:"checkbox",id:"show-button"},null,-1)),bt=y(()=>o("label",{class:"toggle-show-confog",for:"show-button"},"sing dev",-1)),Lt=y(()=>o("label",{class:"mask",for:"show-button"},null,-1)),Tt={class:"sing-list-config"},qt=y(()=>o("label",{class:"toggle-show-confog1",for:"show-button"},[o("svg",{t:"1709147244672",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1489",width:"32",height:"32"},[o("path",{d:"M831.632761 244.00634 765.925247 178.299849 503.095189 441.128883 240.265132 178.299849 174.558641 244.00634 437.387675 506.836397 174.558641 769.666454 240.265132 835.373968 503.095189 572.543911 765.925247 835.373968 831.632761 769.666454 568.802704 506.836397Z",fill:"","p-id":"1490","data-spm-anchor-id":"a313x.search_index.0.i0.10e63a81Ccff3n",class:"selected"})])],-1)),Mt=y(()=>o("h1",null,"config",-1)),Et=y(()=>o("li",null,"• 宽高修改位置在盒子右下角",-1)),It=y(()=>o("li",null,"• 元素可拖拽排序",-1)),zt=["onClick"],Bt=y(()=>o("div",null,"设置背景颜色",-1)),Ut=y(()=>o("div",null,"添加俩条数据",-1)),Ot=["value","onChange"],Ft=y(()=>o("li",null,[o("h3",null,"样式")],-1)),Rt=y(()=>o("div",null,"自定义字体",-1)),At=y(()=>o("div",null,"元素内边距(上 左 下 右)",-1)),Dt=["value"],Nt={class:"config-key"},Pt=["onClick"],Wt=y(()=>o("div",{class:"config-tip"},null,-1)),jt=y(()=>o("div",{class:"config-tip"},null,-1)),Ht=y(()=>o("div",{class:"config-tip"},null,-1)),Vt=y(()=>o("div",{class:"config-tip"},null,-1)),Yt=y(()=>o("div",{class:"config-tip"},null,-1)),Gt=["value","onChange"],Jt=D({__name:"config",setup(s){const{styles:t}=m;return(i,r)=>(u(),h(b,null,[$t,bt,Lt,o("div",Tt,[qt,Mt,o("ul",null,[Et,It,(u(!0),h(b,null,q(n(wt),e=>(u(),h("li",null,[o("div",null,v(e.title),1),o("div",{class:"button",onClick:e.fun},"保存",8,zt)]))),256)),o("li",null,[Bt,o("div",{class:"color-picker",ref:e=>e&&n(P)(e,n(t).box.backgroundColor,l=>{n(C).style("box","backgroundColor",l)})},null,512)]),o("li",null,[Ut,o("div",{onClick:r[0]||(r[0]=e=>n(O).addFakeSing())},"push")]),(u(!0),h(b,null,q(n(m).is,(e,l)=>(u(),h("li",{key:l},[o("div",null,"is "+v(l),1),I(n(oe),{id:l,checked:e,onSwitch:p=>n(C).is(l,p)},null,8,["id","checked","onSwitch"])]))),128)),(u(!0),h(b,null,q(n(m).value,(e,l,p)=>(u(),h("li",{key:l},[o("div",null,v(n(xt)[p]),1),o("input",{type:"number",value:e,onChange:c=>n(C).value(l,c.target.value)},null,40,Ot)]))),128)),Ft,o("li",null,[Rt,H(o("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=e=>n(m).customFont=e)},null,512),[[V,n(m).customFont]])]),o("li",null,[At,o("input",{type:"text",value:n(t).li.padding,onChange:r[2]||(r[2]=e=>n(C).style("li","padding",e.target.value))},null,40,Dt)]),o("li",Nt,[(u(!0),h(b,null,q(n(ft),e=>(u(),h("p",{class:E({cur:e===n(g)}),onClick:l=>g.value=e},v(e),11,Pt))),256))]),(u(!0),h(b,null,q(n(m).isTextStyle[n(g)],(e,l)=>(u(),h("li",{key:l},[o("div",null,"is "+v(n(g))+" "+v(l),1),I(n(oe),{id:l,checked:e,onSwitch:p=>n(C).isTextStyle(n(g),l,p)},null,8,["id","checked","onSwitch"])]))),128)),o("li",null,[o("div",null,v(n(g))+" 字体颜色",1),Wt,o("div",{class:"color-picker",ref:e=>e&&n(P)(e,n(t)[n(g)].color,l=>{n(C).style(n(g),"color",l)})},null,512)]),o("li",null,[o("div",null,v(n(g))+" 字体阴影颜色",1),jt,o("div",{class:"color-picker",ref:e=>e&&n(P)(e,n($)[n(g)].shadowColor,l=>{n($)[n(g)].shadowColor=l,n(C).textExtraStyle(n(g),"shadow")})},null,512)]),o("li",null,[o("div",null,v(n(g))+" 字体阴影模糊距离",1),Ht,H(o("input",{type:"number","onUpdate:modelValue":r[3]||(r[3]=e=>n($)[n(g)].shadowBlur=e),onChange:r[4]||(r[4]=e=>n(C).textExtraStyle(n(g),"shadow"))},null,544),[[V,n($)[n(g)].shadowBlur]])]),o("li",null,[o("div",null,v(n(g))+" 字体描边颜色",1),Vt,o("div",{class:"color-picker",ref:e=>e&&n(P)(e,n($)[n(g)].strokeColor,l=>{n($)[n(g)].strokeColor=l,n(C).textExtraStyle(n(g),"stroke")})},null,512)]),o("li",null,[o("div",null,v(n(g))+" 字体描边大小",1),Yt,H(o("input",{type:"number","onUpdate:modelValue":r[5]||(r[5]=e=>n($)[n(g)].strokeSize=e),onChange:r[6]||(r[6]=e=>n(C).textExtraStyle(n(g),"stroke"))},null,544),[[V,n($)[n(g)].strokeSize]])]),(u(!0),h(b,null,q(n(_t),e=>(u(),h("li",null,[o("div",null,v(e.name),1),o("input",{type:"text",value:e.value,onChange:l=>e.fn(l.target.value)},null,40,Gt)]))),256))])])],64))}}),Zt=N(Jt,[["__scopeId","data-v-79b1cc7c"]]),Kt=D({__name:"app",setup(s){return(t,i)=>(u(),h("section",null,[I(n(vt)),I(n(Zt))]))}}),Qt=N(Kt,[["__scopeId","data-v-a39c7194"]]);xe(Qt).mount(".app");
//# sourceMappingURL=index-BGDxoJXD.js.map
